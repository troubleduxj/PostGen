// 本地Excalidraw素材库数据（真实格式）
export const localExcalidrawLibraries = {
  'basic-shapes': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'basic-rectangle',
        name: '矩形',
        status: 'published',
        elements: [
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'rect1',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 100,
            height: 80,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: { type: 3 },
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      },
      {
        id: 'basic-circle',
        name: '圆形',
        status: 'published',
        elements: [
          {
            type: 'ellipse',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'ellipse1',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 100,
            height: 100,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      },
      {
        id: 'basic-diamond',
        name: '菱形',
        status: 'published',
        elements: [
          {
            type: 'diamond',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'diamond1',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 100,
            height: 100,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      }
    ]
  },
  'arrows': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'arrow-right',
        name: '右箭头',
        status: 'published',
        elements: [
          {
            type: 'arrow',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'arrow1',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 50,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 100,
            height: 0,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false,
            startBinding: null,
            endBinding: null,
            lastCommittedPoint: null,
            startArrowhead: null,
            endArrowhead: 'arrow',
            points: [[0, 0], [100, 0]]
          }
        ]
      },
      {
        id: 'arrow-left',
        name: '左箭头',
        status: 'published',
        elements: [
          {
            type: 'arrow',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'arrow2',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 50,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 100,
            height: 0,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false,
            startBinding: null,
            endBinding: null,
            lastCommittedPoint: null,
            startArrowhead: 'arrow',
            endArrowhead: null,
            points: [[100, 0], [0, 0]]
          }
        ]
      }
    ]
  },
  'flowchart': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'process-box',
        name: '处理框',
        status: 'published',
        elements: [
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'process1',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#1e1e1e',
            backgroundColor: '#e7f3ff',
            width: 120,
            height: 60,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: { type: 3 },
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      },
      {
        id: 'decision-diamond',
        name: '决策框',
        status: 'published',
        elements: [
          {
            type: 'diamond',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'decision1',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#1e1e1e',
            backgroundColor: '#fff2cc',
            width: 100,
            height: 80,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      }
    ]
  },
  'ui-elements': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'button',
        name: '按钮',
        status: 'published',
        elements: [
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'button1',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#1971c2',
            backgroundColor: '#339af0',
            width: 80,
            height: 32,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: { type: 3 },
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      }
    ]
  },
  'icons': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'home-icon',
        name: '房屋图标',
        status: 'published',
        elements: [
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'home1',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 10,
            y: 20,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 40,
            height: 30,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          },
          {
            type: 'line',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'roof1',
            fillStyle: 'hachure',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 20,
            strokeColor: '#1e1e1e',
            backgroundColor: 'transparent',
            width: 60,
            height: 0,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false,
            startBinding: null,
            endBinding: null,
            lastCommittedPoint: null,
            startArrowhead: null,
            endArrowhead: null,
            points: [[0, 0], [30, -15], [60, 0]]
          }
        ]
      }
    ]
  },
  'illustrations': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'simple-tree',
        name: '简单树木',
        status: 'published',
        elements: [
          {
            type: 'ellipse',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'tree-top',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 10,
            y: 0,
            strokeColor: '#2f9e44',
            backgroundColor: '#51cf66',
            width: 40,
            height: 40,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          },
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'tree-trunk',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 25,
            y: 35,
            strokeColor: '#8b4513',
            backgroundColor: '#d2691e',
            width: 10,
            height: 25,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: null,
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      }
    ]
  },
  'networking-icons': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'server',
        name: '服务器',
        status: 'published',
        elements: [
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'server1',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#495057',
            backgroundColor: '#868e96',
            width: 60,
            height: 40,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: { type: 3 },
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      }
    ]
  },
  'aws-architecture-icons': {
    type: 'excalidrawlib',
    version: 2,
    source: 'local',
    libraryItems: [
      {
        id: 'aws-ec2',
        name: 'AWS EC2',
        status: 'published',
        elements: [
          {
            type: 'rectangle',
            version: 1,
            versionNonce: 1,
            isDeleted: false,
            id: 'ec2-1',
            fillStyle: 'solid',
            strokeWidth: 2,
            strokeStyle: 'solid',
            roughness: 1,
            opacity: 100,
            angle: 0,
            x: 0,
            y: 0,
            strokeColor: '#ff6b35',
            backgroundColor: '#ff8c69',
            width: 50,
            height: 50,
            seed: 1,
            groupIds: [],
            frameId: null,
            roundness: { type: 3 },
            boundElements: [],
            updated: 1,
            link: null,
            locked: false
          }
        ]
      }
    ]
  }
};

export function getLocalLibrary(libraryName: string) {
  const key = libraryName.split('/').pop()?.replace('.excalidrawlib', '') || '';
  console.log('Looking for local library key:', key);
  console.log('Available keys:', Object.keys(localExcalidrawLibraries));
  return (localExcalidrawLibraries as any)[key] || null;
}